<mat-toolbar color="primary" class="mat-elevation-z4">
    <button mat-icon-button routerLink="/">
        <mat-icon>arrow_back</mat-icon>
    </button>
    <span>{{translation.archived[global.lang]}}</span>
    <span class="fill-remaining-space"></span>
    <button mat-icon-button (click)="refresh()" [disabled]="loading">
        <mat-icon>refresh</mat-icon>
    </button>
</mat-toolbar>
<div class="out-toolbar">
    <mat-spinner *ngIf="loading; else loaded"></mat-spinner>
    <ng-template #loaded>
        <div fxLayout="row wrap">
            <div *ngFor="let event of global.archivedEventIds" fxFlex.xs="100" fxFlex.sm="50" fxFlex="25">
                <mat-card>
                    <img mat-card-image src="https://chart.googleapis.com/chart?cht=p&amp;chd=t:{{global.events[event].purchases}},{{global.events[event].available}}&amp;chs=300x300&amp;chf=EEEEEE"
                        *ngIf="global.events[event].available">
                    <img mat-card-image src="https://chart.googleapis.com/chart?cht=p&amp;chd=t:{{global.events[event].purchases}},1&amp;chs=300x300&amp;chf=EEEEEE"
                        *ngIf="!global.events[event].available">
                    <mat-card-header>
                        <mat-card-title>
                            {{global.events[event].name}}
                        </mat-card-title>
                    </mat-card-header>
                    <mat-card-content>
                        <p class="capacity">
                            {{global.events[event].purchases}}/{{global.events[event].capacity}}
                        </p>
                    </mat-card-content>
                    <mat-card-actions style="display: flex;">
                        <span class="fill-remaining-space"></span>
                        <button mat-icon-button (click)="unarchiveEvent(event)">
                            <mat-icon>unarchive</mat-icon>
                        </button>
                    </mat-card-actions>
                </mat-card>

            </div>
        </div>

        <p *ngIf="!global.archivedEventIds.length" style="text-align: center;">{{translation.empty[global.lang]}}</p>
    </ng-template>
</div>