<mat-toolbar color="primary" class="mat-elevation-z4">
  <button mat-icon-button routerLink="/">
    <mat-icon>arrow_back</mat-icon>
  </button>
  <span>{{event && event.data.name}}</span>
  <span class="fill-remaining-space"></span>
  <button mat-icon-button (click)="refresh()" [disabled]="loading">
    <mat-icon>refresh</mat-icon>
  </button>
</mat-toolbar>
<div class="out-toolbar">
  <mat-spinner *ngIf="loading; else loaded"></mat-spinner>
  <ng-template #loaded>
    <mat-card>
      <mat-list>
        <h3 mat-subheader>{{translation.eventOperations[global.lang]}}</h3>
        <mat-list-item>
          <span matLine>{{translation.startSelling[global.lang]}}</span>
          <span matLine>{{translation.startSellingBody[global.lang]}}</span>
          <span class="fill-remaining-space"></span>
          <span>
            <button mat-raised-button color="accent" [disabled]="event.data.sellingStarted" (click)="startSelling()">{{translation.startSelling[global.lang]}}</button>
          </span>
        </mat-list-item>
        <mat-divider></mat-divider>
        <mat-list-item>
          <span matLine>{{translation.endSelling[global.lang]}}</span>
          <span matLine>{{translation.endSellingBody[global.lang]}}</span>
          <span class="fill-remaining-space"></span>
          <span>
            <button mat-raised-button color="accent" [disabled]="!event.data.sellingStarted" (click)="endSelling()">{{translation.endSelling[global.lang]}}</button>
          </span>
        </mat-list-item>
        <mat-divider></mat-divider>
        <mat-list-item>
          <span matLine>{{translation.startCamera[global.lang]}}</span>
          <span matLine>{{translation.startCameraBody[global.lang]}}</span>
          <span class="fill-remaining-space"></span>
          <span>
            <button mat-raised-button color="accent" routerLink="/events/{{event.id}}/scan" [queryParams]="{ userId: userId }"
              [disabled]="!event.data.sellingEnded">{{translation.startCamera[global.lang]}}</button>
          </span>
        </mat-list-item>
      </mat-list>
    </mat-card>
    <br />
    <mat-card>
      <mat-list>
        <h3 mat-subheader>{{translation.eventDescription[global.lang]}}</h3>
        <mat-list-item>
          <span>{{translation.eventName[global.lang]}}</span>
          <span class="fill-remaining-space"></span>
          <span>{{event.data.name}}</span>
          <button mat-icon-button color="accent" (click)="editEventName()">
            <mat-icon>edit</mat-icon>
          </button>
        </mat-list-item>
        <mat-divider></mat-divider>
        <mat-list-item>
          <span>{{translation.userId[global.lang]}}</span>
          <span class="fill-remaining-space"></span>
          <span>{{userId}}</span>
        </mat-list-item>
        <mat-divider></mat-divider>
        <mat-list-item>
          <span>{{translation.eventId[global.lang]}}</span>
          <span class="fill-remaining-space"></span>
          <span>{{event.id}}</span>
        </mat-list-item>
        <mat-divider></mat-divider>
        <mat-list-item>
          <span>nonce</span>
          <span class="fill-remaining-space"></span>
          <span>{{event.data.nonce}}</span>
        </mat-list-item>
      </mat-list>
    </mat-card>
    <br />
    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
      <ng-container matColumnDef="address">
        <th mat-header-cell *matHeaderCellDef>{{translation.address[global.lang]}}</th>
        <td mat-cell *matCellDef="let element">{{element.address}}</td>
      </ng-container>
      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef>{{translation.status[global.lang]}}</th>
        <td mat-cell *matCellDef="let element">
          <mat-icon>{{element.status}}</mat-icon>
        </td>
      </ng-container>
      <ng-container matColumnDef="invalidator">
        <th mat-header-cell *matHeaderCellDef>{{translation.invalidator[global.lang]}}</th>
        <td mat-cell *matCellDef="let element">{{element.invalidator}}</td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
    <mat-paginator pageSize="10"></mat-paginator>
    <br />
    <mat-card>
      <mat-card-content>
        <mat-list>
          <h3 mat-subheader>特定商取引法に関する表記</h3>
          <mat-list-item>
            <span>事業者名</span>
            <span class="fill-remaining-space"></span>
            <span>株式会社LCNEM</span>
          </mat-list-item>
          <mat-divider></mat-divider>
          <mat-list-item>
            <span>所在地</span>
            <span class="fill-remaining-space"></span>
            <span>京都市上京区油小路中立売下る甲斐守町97番地西陣産業創造會舘2階</span>
          </mat-list-item>
          <mat-divider></mat-divider>
          <mat-list-item>
            <span>連絡先</span>
            <span class="fill-remaining-space"></span>
            <span>サイトに記載</span>
          </mat-list-item>
          <mat-divider></mat-divider>
          <mat-list-item>
            <span>商品販売価格</span>
            <span class="fill-remaining-space"></span>
            <span>チケット販売権1枚につき50円+税</span>
          </mat-list-item>
          <mat-divider></mat-divider>
          <mat-list-item>
            <span>送料・手数料</span>
            <span class="fill-remaining-space"></span>
            <span>なし</span>
          </mat-list-item>
          <mat-divider></mat-divider>
          <mat-list-item>
            <span>代金の支払方法</span>
            <span class="fill-remaining-space"></span>
            <span>クレジットカード</span>
          </mat-list-item>
          <mat-divider></mat-divider>
          <mat-list-item>
            <span>返品</span>
            <span class="fill-remaining-space"></span>
            <span>不可</span>
          </mat-list-item>
        </mat-list>
      </mat-card-content>
    </mat-card>
  </ng-template>
</div>