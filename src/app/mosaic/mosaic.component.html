<mat-toolbar color="primary" class="mat-elevation-z4">
    <button mat-button routerLink="/">
        <mat-icon>arrow_back</mat-icon>
    </button>
    <span *ngIf="mosaic">{{mosaic.namespace}}:{{mosaic.name}}</span>
    <span class="fill-remaining-space"></span>
</mat-toolbar>

<div class="out-toolbar">
    <div class="progress">
        <mat-spinner *ngIf="loading; else loaded"></mat-spinner>
    </div>
    <ng-template #loaded>
        <div fxFill>
            <mat-card>
                <mat-card-header>
                    <div mat-card-avatar>
                        <img class="avatar-svg" [src]="mosaic.imageUrl" />
                    </div>
                    <mat-card-title>{{mosaic.namespace}}:{{mosaic.name}}</mat-card-title>
                    <mat-card-subtitle>{{mosaic.issuer}}</mat-card-subtitle>
                </mat-card-header>
                <mat-card-content>
                    <p class="price mat-typography">{{owned}} {{mosaic.unit}}</p>
                </mat-card-content>
            </mat-card>
        </div>

        <img class="qr-image" [src]="qrUrl" />
        <mat-form-field fxFill>
            <input matInput type="number" placeholder="Amount" [(ngModel)]="price" i18n-placeholder />
            <span matSuffix>{{mosaic.unit}}</span>
        </mat-form-field>
        <mat-form-field fxFill>
            <input matInput placeholder="Message" [(ngModel)]="message" i18n-placeholder />
        </mat-form-field>
        <button mat-raised-button color="accent" fxFill (click)="generateQr()" i18n>Generate QR-code</button>

        <button *ngIf="owned > 0" mat-fab color="accent" class="send-button" (click)="send()">
            <mat-icon>send</mat-icon>
        </button>
    </ng-template>
    <br />
</div>